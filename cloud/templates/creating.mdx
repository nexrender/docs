---
title: "Creating a Template"
description: "Description of your new file."
---

## What is a Template in Nexrender Cloud?

In Nexrender Cloud, a **template** is an After Effects project file (or compatible format) uploaded to the cloud and registered with metadata, enabling dynamic rendering and automation at scale.

Templates are the foundation for all render jobs. Once uploaded and processed, Nexrender Cloud can introspect the file to extract:

- **Available compositions** (e.g., `main`, `intro`, `outro`)
- **Editable layers** (text, images, audio, video)
- And render any of them dynamically based on incoming asset data.

### üßæ Supported Template Formats

| Format   | Description                                                      |
| -------- | ---------------------------------------------------------------- |
| `.aep`   | Native Adobe After Effects project file                          |
| `.zip`   | A `.aep` file bundled with its assets (images, videos, fonts)    |
| `.mogrt` | Motion Graphics Template exported from AE, for use in Adobe apps |

We recommend `.zip` as the **most flexible and robust** format for complex workflows. It allows bundling everything together in one archive: project, assets, fonts, and expressions.

### üîç Why Use `.zip` Instead of Raw `.aep`?

- **Portable**: All dependencies are included in the archive
- **Stable**: Avoids asset path resolution issues on render nodes
- **Versionable**: Can be zipped and reused reliably in CI/CD pipelines
- **Flexible**: Supports preloading fonts, media, nested comps, scripts

> For `.mogrt` templates, you can upload them directly without zipping.

### üí° Why Use `.mogrt` Templates with Nexrender Cloud?

`.mogrt` (Motion Graphics Template) files are a streamlined way to automate rich, branded animations with Nexrender Cloud ‚Äî without requiring a complex `.aep` project structure.

Created directly from Adobe After Effects via the **Essential Graphics panel**, these templates allow designers to expose just the fields needed for dynamic automation: text, images, colors, sliders, audio, and more.

#### ‚úÖ Benefits of `.mogrt` with Nexrender

| Feature                        | Why It Matters in Nexrender Automation                                   |
| ------------------------------ | ------------------------------------------------------------------------ |
| **Simplified integration**     | Upload directly via API ‚Äî no need to bundle assets, no zip required      |
| **Designer-controlled inputs** | Fields defined in AE become JSON-editable params in Nexrender jobs       |
| **Low-maintenance**            | No manual layer mapping or fragile expression parsing                    |
| **Fast introspection**         | Nexrender automatically extracts editable parameters on upload           |
| **Lightweight & portable**     | Ideal for workflows requiring rapid rendering and high volume throughput |

#### üöÄ Best Use Cases in Nexrender Cloud

- **API-driven personalization** of short-form branded videos
- **Ad creatives** with dynamic messaging and visuals
- **Onboarding or tutorial clips** where only text or logos change
- **Mass rendering jobs** for social media, product launches, or app stores

#### üß† Nexrender Internals

When you upload a `.mogrt` template via the API:

- Nexrender parses the file immediately using the embedded JSON schema
- All editable fields are exposed under the `layers` property
- The system automatically handles validation and rendering logic
- No additional scripting or manual post-processing is required

> Nexrender treats `.mogrt` files as first-class citizens in its rendering pipeline. You get the same scalability and real-time tracking as with `.zip`-based templates ‚Äî with less configuration.

### üß† How Nexrender Uses Templates Internally

Once a template is uploaded via the API, the backend performs **introspection**:

- Validates the file type
- Extracts a list of compositions and editable layer properties
- Stores metadata under a unique template ID
- Returns a presigned `uploadInfo.url` (valid for 1 hour) to upload the actual file

Once the file is uploaded, the status changes to `uploaded`, and you can start submitting render jobs that reference this template by ID.

### üèó Typical Template Lifecycle

1. **Create** the template (`POST /api/v2/templates`) with a `type` and `displayName`
2. **Upload** the actual file to `uploadInfo.url` (no auth headers\!)
3. **Confirm** the status is `uploaded`
4. **Inspect** the template to see available `compositions` and `layers`
5. **Submit** render jobs that reference the template

---

Ready to create your first template? [Jump to Step 1 ‚Üí](#step-1-register-a-template)

## Step 1: Register a Template

Before uploading your file, you need to **create a template object** using the Nexrender Cloud API. This tells the system:

- What type of template you're going to upload (`aep`, `zip`, or `mogrt`)
- How to label this template for your internal reference

This step returns an `uploadInfo` object that contains a **pre-signed upload URL** for securely uploading your file in the next step.

### Endpoint

```
POST /api/v2/templates
```

### Request Payload

```json
{
  "type": "zip",
  "displayName": "Promo 2024 Campaign"
}
```

| Field         | Type   | Required | Description                          |
| ------------- | ------ | -------- | ------------------------------------ |
| `type`        | string | ‚úÖ        | One of: `aep`, `zip`, or `mogrt`     |
| `displayName` | string | ‚úÖ        | Human-readable name for the template |

> Choose `type: "zip"` if your template is a `.aep` file bundled with assets and fonts.\
> Use `type: "mogrt"` only for raw `.mogrt` files exported from After Effects.

---

### Example `curl` Request

```bash
curl -X POST https://api.nexrender.com/api/v2/templates \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "zip",
    "displayName": "Promo 2024 Campaign"
  }'
```

---

### Example Success Response

```json
{
  "template": {
    "id": "01JT2M9GCR712V7EJYDF45QAFD",
    "type": "zip",
    "displayName": "Promo 2024 Campaign",
    "status": "awaiting_upload",
    "createdAt": "2025-05-05T16:25:59.961Z",
    "updatedAt": "2025-05-05T16:25:59.961Z",
    "compositions": [],
    "layers": [],
    "mogrt": {}
  },
  "uploadInfo": {
    "url": "https://nx1-assets-eu.r2.cloudflarestorage.com/...signed_url...",
    "method": "PUT",
    "fields": {
      "Content-Type": "application/octet-stream",
      "x-amz-meta-custom": "{\"templateId\":\"01JT2M9GCR712V7EJYDF45QAFD\"}"
    },
    "expiresIn": 3600,
    "key": "01JTGK.../templates/Promo2024.zip"
  }
}
```

---

### What Happens Behind the Scenes?

- The backend **reserves storage** for your file
- Generates a **secure upload URL** valid for ~1 hour
- Waits for the actual file to be uploaded (in the next step)
- The template status is initially set to `awaiting_upload`

You **must upload the correct file** matching the declared `type` ‚Äî otherwise the introspection process will fail.

---

### Common Mistakes to Avoid

| Mistake                                                | Result                                                      |
| ------------------------------------------------------ | ----------------------------------------------------------- |
| Declaring `type: zip` but uploading `.aep` or `.mogrt` | The render job will fail or silently break asset resolution |
| Uploading to the wrong URL                             | The template will remain in `awaiting_upload` status        |
| Forgetting to use the pre-signed URL                   | You‚Äôll get a 403 Forbidden error or SignatureDoesNotMatch   |

Once the upload is complete, the status will transition to `uploaded`, and Nexrender Cloud will extract all available compositions and dynamic layers.

---

Ready to upload the file? [Continue to Step 2 ‚Üí](#step-2-upload-the-ae-file)

## Step 2: Upload the AE File

Once your template is registered and you‚Äôve received the `uploadInfo.url`, the next step is to upload the actual After Effects file.

This file must match the format you declared when creating the template: either `.aep`, `.zip`, or `.mogrt`.

---

### Where to Upload

The `uploadInfo.url` returned in the response is a **presigned URL** ‚Äî a time-limited link that allows you to upload the file without any additional authentication.

The method is always `PUT`, and you must include the correct headers exactly as provided in the `uploadInfo.fields`.

---

### Example `curl` Upload Request

```bash
curl --location --request PUT \
  'https://your-upload-url-from-uploadInfo.url' \
  --header 'Content-Type: application/octet-stream' \
  --data-binary '@/path/to/your/project.zip'
```

You can replace `.zip` with `.aep` or `.mogrt` depending on your workflow.

---

### Example Success Response

```http
HTTP/1.1 200 OK
```

---

### Required Headers

The following headers must be present if included in the `uploadInfo.fields` object:

| Header            | Description                                    |
| ----------------- | ---------------------------------------------- |
| Content-Type      | Usually `application/octet-stream`             |
| x-amz-meta-custom | May be included for tracking template ID       |
| Content-Length    | Set automatically by `curl` or Postman         |
| Content-Encoding  | Usually not required; use `identity` if needed |

> Do not change the upload URL, append query params, or add any extra headers.

---

### Postman Configuration (If Not Using curl)

To upload via Postman:

- **Method**: `PUT`
- **URL**: Use the full `uploadInfo.url` from the API
- **Auth**: No Auth
- **Body**: Set to `binary`, and select your file
- **Header**: Manually set `Content-Type` to `application/octet-stream`

Make sure Postman does **not** automatically add:

- `Authorization`
- `Accept`
- `User-Agent`
- Any `x-amz-*` headers not explicitly required

These can invalidate the signature and result in a `403 SignatureDoesNotMatch` error.

---

### ‚ö†Ô∏è Important: Upload the Correct File Type

The file you upload must match the `type` field you declared during template creation:

| Declared `type` | Expected File Upload |
| --------------- | -------------------- |
| `zip`           | `project.zip`        |
| `aep`           | `project.aep`        |
| `mogrt`         | `project.mogrt`      |

If you upload the wrong file type, the template introspection will fail, and you won‚Äôt be able to render from it.

---

### Template Status: `uploaded`

Once the upload completes, the template's `status` will change from `awaiting_upload` to `uploaded`. At this point, Nexrender Cloud will:

- Extract all available **compositions**
- Parse editable **layers** for use in jobs
- Make the template immediately available for rendering

You can fetch the template object via:

```bash
curl https://api.nexrender.com/api/v2/templates/TEMPLATE_ID \
  -H "Authorization: Bearer YOUR_API_KEY"
```

This will return metadata including compositions and layers.

---