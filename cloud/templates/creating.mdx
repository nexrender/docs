---
title: "Registering a Template"
description: "How to Register Templates"
---

<CardGroup cols={2}>
  <Card title="Quickstart Guide" icon="bolt" href="/cloud/quickstart">
    Step-by-step instructions to submit your first render job using curl or Postman
  </Card>
  <Card title="Register and Upload Templates" icon="upload" href="/cloud/templates/creating">
    Learn how to structure your AE projects and upload them via the API
  </Card>
  <Card title="Submit a Render Job" icon="play" href="/cloud/jobs/creating">
    Create and trigger a render job using compositions and asset overrides
  </Card>
  <Card title="Track Job Status" icon="signal" href="/cloud/jobs/status">
    Poll for progress or receive updates with webhooks
  </Card>
</CardGroup>


Ready to create your first template? [Jump to Step 1 →](#step-1-register-a-template)

## How To Register a New Template

<Steps>
  <Step title="Register a Template">
    Before uploading your file, you need to **create a template object** using the Nexrender Cloud API. This tells the system:

    - What type of template you're going to upload (`aep`, `zip`, or `mogrt`)
    - How to label this template for your internal reference

    This step returns an `uploadInfo` object that contains a **pre-signed upload URL** for securely uploading your file in the next step.

    <CodeGroup>

    ```bash API Endpoint
    POST https://api.nexrender.com/api/v2/templates
    ```

    
    ```json Request Payload
    {
      "type": "zip",
      "displayName": "Promo 2024 Campaign"
    }
    ```

    </CodeGroup>

    | Field         | Type   | Required | Description                          |
    | ------------- | ------ | -------- | ------------------------------------ |
    | `type`        | string | ✅        | One of: `aep`, `zip`, or `mogrt`     |
    | `displayName` | string | ✅        | Human-readable name for the template |

    > Choose `type: "zip"` if your template is a `.aep` file bundled with assets and fonts.\
    > Use `type: "mogrt"` only for raw `.mogrt` files exported from After Effects.

    ---

    <CodeGroup>

    ```bash Register Template Request
    curl -X POST https://api.nexrender.com/api/v2/templates \
      -H "Authorization: Bearer YOUR_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "type": "zip",
        "displayName": "Promo 2024 Campaign"
      }'
    ```

    
    ```javascript Example Success Response
    {
      "template": {
        "id": "01JT2M9GCR712V7EJYDF45QAFD",
        "type": "zip",
        "displayName": "Promo 2024 Campaign",
        "status": "awaiting_upload",
        "createdAt": "2025-05-05T16:25:59.961Z",
        "updatedAt": "2025-05-05T16:25:59.961Z",
        "compositions": [],
        "layers": [],
        "mogrt": {}
      },
      "uploadInfo": {
        "url": "https://nx1-assets-eu.r2.cloudflarestorage.com/...signed_url...",
        "method": "PUT",
        "fields": {
          "Content-Type": "application/octet-stream",
          "x-amz-meta-custom": "{\"templateId\":\"01JT2M9GCR712V7EJYDF45QAFD\"}"
        },
        "expiresIn": 3600,
        "key": "01JTGK.../templates/Promo2024.zip"
      }
    }
    ```

    </CodeGroup>

    ---

    <AccordionGroup>
      <Accordion title="What Happens Behind the Scenes?">
        - The backend **reserves storage** for your file
        - Generates a **secure upload URL** valid for ~1 hour
        - Waits for the actual file to be uploaded (in the next step)
        - The template status is initially set to `awaiting_upload`

        You **must upload the correct file** matching the declared `type` — otherwise the introspection process will fail.
      </Accordion>
      <Accordion title="Common Mistakes to Avoid">
        | Mistake                                                | Result                                                      |
        | ------------------------------------------------------ | ----------------------------------------------------------- |
        | Declaring `type: zip` but uploading `.aep` or `.mogrt` | The render job will fail or silently break asset resolution |
        | Uploading to the wrong URL                             | The template will remain in `awaiting_upload` status        |
        | Forgetting to use the pre-signed URL                   | You’ll get a 403 Forbidden error or SignatureDoesNotMatch   |

        Once the upload is complete, the status will transition to `uploaded`, and Nexrender Cloud will extract all available compositions and dynamic layers.
      </Accordion>
    </AccordionGroup>
    ---

    Ready to upload the file? [Continue to Step 2 →](#step-2-upload-the-ae-file)
  </Step>
  <Step title="Upload the AE File">
    Once your template is registered and you’ve received the `uploadInfo.url`, the next step is to upload the actual After Effects file.

    This file must match the format you declared when creating the template: either `.aep`, `.zip`, or `.mogrt`.

    ---

    <Accordion title="Where to Upload">
      The `uploadInfo.url` returned in the response is a **presigned URL** — a time-limited link that allows you to upload the file without any additional authentication.

      The method is always `PUT`, and you must include the correct headers exactly as provided in the `uploadInfo.fields`.
    </Accordion>
    ---

    ### Example `curl` Upload Request

    You can replace `.zip` with `.aep` or `.mogrt` depending on your workflow.

    <CodeGroup>

    ```bash Template File Upload Request
    curl --location --request PUT \
      'https://your-upload-url-from-uploadInfo.url' \
      --header 'Content-Type: application/octet-stream' \
      --data-binary '@/path/to/your/project.zip'
    ```

    
    ```http Example Success Response
    HTTP/1.1 200 OK
    ```

    </CodeGroup>

    <AccordionGroup>
      <Accordion title="Required Headers">
        The following headers must be present if included in the `uploadInfo.fields` object:

        | Header            | Description                                    |
        | ----------------- | ---------------------------------------------- |
        | Content-Type      | Usually `application/octet-stream`             |
        | x-amz-meta-custom | May be included for tracking template ID       |
        | Content-Length    | Set automatically by `curl` or Postman         |
        | Content-Encoding  | Usually not required; use `identity` if needed |

        > Do not change the upload URL, append query params, or add any extra headers.
      </Accordion>
      <Accordion title="Postman Configuration (If Not Using curl)">
        To upload via Postman:

        - **Method**: `PUT`
        - **URL**: Use the full `uploadInfo.url` from the API
        - **Auth**: No Auth
        - **Body**: Set to `binary`, and select your file
        - **Header**: Manually set `Content-Type` to `application/octet-stream`

        Make sure Postman does **not** automatically add:

        - `Authorization`
        - `Accept`
        - `User-Agent`
        - Any `x-amz-*` headers not explicitly required

        These can invalidate the signature and result in a `403 SignatureDoesNotMatch` error.
      </Accordion>
      <Accordion title="Important: Upload the Correct File Type">
        The file you upload must match the `type` field you declared during template creation:

        | Declared `type` | Expected File Upload |
        | --------------- | -------------------- |
        | `zip`           | `project.zip`        |
        | `aep`           | `project.aep`        |
        | `mogrt`         | `project.mogrt`      |

        If you upload the wrong file type, the template introspection will fail, and you won’t be able to render from it.
      </Accordion>
      <Accordion title="Template Status: `uploaded`">
        Once the upload completes, the template's `status` will change from `awaiting_upload` to `uploaded`. At this point, Nexrender Cloud will:

        - Extract all available **compositions**
        - Parse editable **layers** for use in jobs
        - Make the template immediately available for rendering

        You can fetch the template object via:

        ```bash
        curl https://api.nexrender.com/api/v2/templates/TEMPLATE_ID \
          -H "Authorization: Bearer YOUR_API_KEY"
        ```

        This will return metadata including compositions and layers.
      </Accordion>
    </AccordionGroup>
  </Step>
  <Step title="Confirm Status">
    Once your template file is uploaded, Nexrender Cloud processes it in the background.

    You must confirm that the template has transitioned from:

    ```
    awaiting_upload → uploaded
    ```

    Only then will you be able to submit render jobs based on it.

    <AccordionGroup>
      <Accordion title="Check Template Status">
        To check the current status of your template, make a `GET` request. Replace `TEMPLATE_ID` with the ID returned during Step 1.

        <CodeGroup>

        ```bash Check Template Status
        curl -X GET https://api.nexrender.com/api/v2/templates/TEMPLATE_ID \
          -H "Authorization: Bearer YOUR_API_KEY"
        ```

        
        ```json Example Successful Response
        {
          "id": "01JT2M9GCR712V7EJYDF45QAFD",
          "type": "zip",
          "status": "uploaded",
          "displayName": "Promo 2024 Campaign",
          "createdAt": "2025-05-05T16:25:59.961Z",
          "updatedAt": "2025-05-05T16:30:01.015Z",
          "compositions": ["main", "intro", "outro"],
          "layers": [
            {
              "layerName": "title",
              "property": "Source Text",
              "type": "data"
            },
            {
              "layerName": "subtitle",
              "property": "Source Text",
              "type": "data"
            },
            {
              "layerName": "logo",
              "property": "Source Name",
              "type": "image"
            }
          ]
        }
        ```

        </CodeGroup>
      </Accordion>
      <Accordion title="Key Fields to Inspect">
        | Field          | Description                                                                |
        | -------------- | -------------------------------------------------------------------------- |
        | `status`       | Should be `uploaded`. Any other status means you can't render yet.         |
        | `compositions` | List of named compositions in the AE project. You must pick one to render. |
        | `layers`       | List of dynamic layers you can override with asset injection.              |
      </Accordion>
      <Accordion title="If `status` ≠ `uploaded`">
        If the template remains in `awaiting_upload` or shows an error status:

        1. Check that you **uploaded the correct file type** (`zip`, `aep`, or `mogrt`)
        2. Ensure the file was uploaded to the **`exact uploadInfo.url`**
        3. Inspect logs or contact support if rendering infrastructure couldn’t process the file

        > You cannot submit a render job until the template is fully uploaded and parsed.
      </Accordion>
      <Accordion title="Fetching Layers for a Render Job">
        You’ll use the `layerName` and `property` fields when constructing your job payload:

        ```json
        {
          "template": {
            "id": "TEMPLATE_ID",
            "composition": "main"
          },
          "assets": [
            {
              "type": "data",
              "layerName": "title",
              "property": "Source Text",
              "value": "My Dynamic Title"
            },
            {
              "type": "image",
              "layerName": "logo",
              "property": "Source Name",
              "src": "https://example.com/yourlogo.png"
            }
          ]
        }
        ```
      </Accordion>
    </AccordionGroup>
  </Step>
  <Step title="Optional – Fonts & Dependencies">
    If your After Effects project uses **custom fonts**, you’ll need to preload them into Nexrender Cloud before rendering — otherwise the render nodes may fallback to system fonts or fail altogether.

    <AccordionGroup>
      <Accordion title="Why Fonts Must Be Preloaded">
        Cloud render environments do not have access to your local machine’s fonts.

        To maintain design fidelity and brand consistency, Nexrender Cloud provides a way to **`upload and persist .ttf font files`** in your account, which will be automatically loaded before rendering.

        ### Supported Font Formats

        | Format | Description               |
        | ------ | ------------------------- |
        | `.ttf` | TrueType Font (preferred) |
        | `.otf` | Not currently supported   |
      </Accordion>
      <Accordion title="How to Upload Fonts">
        You can upload fonts via the Fonts API:

        <CodeGroup>

        ```bash Upload Font
        curl -X POST https://api.nexrender.com/api/v2/fonts \
          -H "Authorization: Bearer YOUR_API_KEY" \
          -F "file=@/path/to/Roboto-Regular.ttf"
        ```

        
        ```json Example Response
        {
          "id": "font-roboto-regular",
          "filename": "Roboto-Regular.ttf",
          "status": "ready",
          "size": 142384
        }
        ```

        </CodeGroup>

        Once uploaded, fonts are available to all future render jobs, no additional steps required.
      </Accordion>
      <Accordion title="How Nexrender Loads Fonts">
        - Fonts are installed before After Effects launches
        - Fonts persist across render jobs in the cloud
        - If a font is missing, AE will silently fallback — which can cause layout bugs

        > **Always preload** any custom font that’s not part of Adobe’s base installation.
      </Accordion>
    </AccordionGroup>
  </Step>
</Steps>

To manage fonts, visit: [Fonts →](../cloud/fonts/upload)

Next: Learn how to [Submit Render Jobs →](../cloud/jobs/creating-jobs)